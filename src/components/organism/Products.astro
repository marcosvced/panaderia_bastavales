---
import { getCollection } from 'astro:content';

import Slider from "../molecules/Slider.astro";
import Product from "../molecules/Product.astro";

const products = await getCollection('products');

---
<section class="o-products -container" id="os-nosos-productos">
    <!-- Slider main container -->
    <div class="-column-start(1) -column-end(5) -screen(md):column-start(3) -screen(md):column-end(23)">
        <h2  class="-m-t(0) -m-b(8)">Tradici√≥n e sabor</h2>
        <p class="-m-t(0) -m-b(16)">Productos artesans elavorados co mellor da nosa terra.</p>
        <Slider >
            {products.map(({data:product}) => (
                    <div class="swiper-slide">
                        <Product product={product} />
                    </div>
            ))}
        </Slider>
    </div>
</section>
<style>
    h2 {
        font-size: var(--fs-huge);
        font-family: var(--ff-title);
        font-weight: normal;
    }

    p {
        font-family: var(--ff-body);
        font-size: var(--fs-medium);
        line-height: 1.5;
        font-weight: 200;
        opacity: .65;
    }

    .o-products :global(.m-product),
    .o-products :global(.info) {
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    .o-products :global(h3) {
        font-family: var(--ff-title);
        font-size: var(--fs-large);
        font-weight: normal;
        @apply: -m-t(0) -m-b(2);
    }

    .o-products :global(h3 + p) {
        font-family: var(--ff-body);
        font-size: var(--fs-x-small);
        line-height: 1.5;
        font-weight: 200;
        opacity: .65;
        @apply: -m-x(0) -m-y(0);
    }
</style>